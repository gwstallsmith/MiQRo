<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Lab Home</title>
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Core theme CSS (includes Bootstrap)-->
    <link href="/static/styles.css" rel="stylesheet" />
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">  
    <style>
        html, body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background-color: #fff;
        }
        .tv-container {
            position: relative;
            width: 100%; /* Cover entire width of the page */
            height: 100vh; /* Cover entire height of the viewport */
            background-color: #333; /* Dark grey background */
            overflow: hidden;
            border-radius: 0; /* Square outer corners */
        }
        .tv-screen {
            position: absolute;
            top: 20px;
            left: 5px;
            right: 5px;
            bottom: 20px;
            padding-left: 10px;
            padding-right: 10px;
            background-color: #fff; /* White background for inner content */
            border-radius: 20px; /* Rounded corners for inner content */
            overflow: hidden;
        }
        /* White text for navbar items */
        .navbar-nav .nav-link {
            color: #333;
        }
        /* Padding for tab content */
        .tab-content .tab-pane .content-wrapper {
            padding-top: 10px; /* Top padding */
            padding-bottom: 10px; /* Bottom padding */
            padding-left: 15px; /* Left padding */
            padding-right: 15px; /* Right padding */
        }
        .container {
            align-items: stretch;
            width: 100%;
            height: 100vh;
            min-width:100%;
            position: relative;
            display: flex;
            padding: 0px;
        }
        .left-space {
            flex: 1.2;
            background-color:white;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
            overflow-y: auto;
            padding: 0px;
            position: relative;
        }
        .left-space .app-bar {
            position: sticky;
            top: 0;
            background-color: #F5F5F5;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
            border-bottom-left-radius: 10px;
            border-bottom-right-radius: 10px;
            color: black;
            padding: 20px; /* Adjusted padding */
            z-index: 1;
        }
        .left-space .content {
            padding-top: 30px; /* Adjust padding to make space for the app bar */
            padding-left: 2.5px; /* Add left padding for the content */
            padding-right: 5px; /* Add right padding for the content */
        }
        .right-space {
            flex: 1.8;
            background-color: #e12929;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
            overflow-y: scroll;
            position: relative;
        }
        .right-space .app-bar {
            position: sticky;
            top: 0;
            background-color: #357EC7;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
            color: white;
            padding: 20px;
            z-index: 1;
        }
        .right-space .content {
            padding-top: 25px; /* Adjust padding to make space for the app bar */
            padding-left: 20px; /* Add left padding for the content */
            padding-right: 20px; /* Add right padding for the content */
        }
        .divider {
            flex: 0 0 25px;
            background-color: transparent;
        }
        .content-wrapper {
            padding: 0px;
        }
        .card-text {
            font-size: 15px;
        }
        .card-title {
            font-weight: bold;
        }

        .main{
            display: flex;
        }
        div{
            overflow: scroll;
        }
        li:hover, li.active {
            background-color: #222;
            color: white;
        }
        .navbar li, .sidebar ul li, tr, content ul {
            cursor: pointer;
        }
        .navbar ul{
            list-style-type: none;
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #222;
        }
        .navbar li {
            float: left;
            color: #333;
            text-align: center;
            text-decoration: none;
        } 
        .navbar li:hover {
            color: white;
        }
        .sidebar{
            max-height: 100vh; /* Adjust this value as needed */
            overflow-y: auto;
        }
        .sidebar ul{
            list-style-type: none;
            width: 50%;
            background-color: #f1f1f1;
            height: 100vh;
            overflow-y: auto;
            overflow-x: hidden
        }

        .sidebar td:hover {
            background-color: #333;
            color: white;
        }

        li {
            color: #000;
            padding: 8px 16px;
            text-decoration: none;
        }
        .content{
            margin-left: 25%;
            padding: 1px 16px;
            height: 100vh;
            width: 20%;
            cursor: pointer;
        }
        .content li{
            overflow: auto;
        }
        .content li:hover {
            background-color: #333;
            color: white;
        }
        .sidebar p, .content p {
            position: sticky;
            top: 0;
            background: white;
            z-index: 1;
            border: 1px solid #333;
            cursor: default;
        }
        #addCodesButton{
            position: sticky;
            bottom: 0;
        }
        div.details{
            position: absolute; 
            right: 10%; /* This will align the container to the right of the screen */
            top: 50%; /* This will position the container halfway down the screen */
        }
        .scrollable-element {
            overflow: auto;
            padding-right: 20px; /* This will move the scrollbar 20px to the left */
        }
        .active {
            color: white;
        }
    </style>
</head>
<body>
    <div class="tv-container">
        <div class="tv-screen">
          <!-- Navbar -->
          <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand font-weight-bold" href="#">MiQRo</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
      
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                  <a class="nav-link home" href="#home">Home <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#">Labs</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#">Profile</a>
                </li>
                <!-- Add more nav items as needed -->
              </ul>
            </div>
          </nav>
      
          <!-- Tab contents -->
          <div class="tab-content">
            <!-- Home Tab Content -->
            <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
              <div class="content-wrapper">
      
                <div class="spacer" style="width: 100%; height: 20px;"></div>   <!-- Welcome user -->
                <h2 style="font-size: 16px;">Welcome <span class="font-weight-normal">Youthere,</span></h2>
                <div class="spacer" style="width: 100%; height: 15px;"></div>
      
                <div class="navbar">
                    <ul id="navbar">
                        <!-- Navbar items will be dynamically generated -->
                    </ul>
                </div>
                <div class = "main">
                    <div class="sidebar">
                        <p> Groups</p>
                        <!-- Sidebar items will be dynamically generated -->
                        <table id="sidebarTable"></table>
                         <!-- Add button below the sidebar -->
                        <button id="addGroupsButton">Add Groups</button>
                    </div>
                    
                    <div class="content">
                        <p>QR Codes</p>
                        <div class = "scrollable-content">
                            <!-- Content items will be dynamically generated -->
                            <ul id="contentList"></ul>
                        </div>
                        <!-- Add button below the content -->
                        <button id="addCodesButton">Add Codes</button>
                    </div>
                </div>
                <div class="details">
                    <!-- Details will be dynamically generated -->
                    <h2 id="detailsTitle"></h2>
                    <p id="detailsContent"></p>
                </div>
      
            <!-- Add more tab contents here -->
          </div>
        </div>
      </div>
    </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script src="group_choice_modal.js"></script> <!-- this is group_choice_modal -->


</body>
</html>

<script>
    var navbarData = ['Lab 1', 'Lab 2', 'Lab 3'];
    var sidebarData = {
        'Lab 1': ['Group 1', 'Group 2', 'Group 3', 'Group 4',
         'Group 5', 'Group 6', 'Group 7', 'Group 8', 'Group 9', 
        'Group 10', 'Group 11', 'Group 12', 'Group 13', 
        'Group 14', 'Group 15', 'Group 16', 'Group 17',
         'Group 18', 'Group 19', 'Group 20', 'Group 21', 'Group 22',],
        'Lab 2': ['Group 4', 'Group 5', 'Group 6'],
        'Lab 3': ['Group 7', 'Group 8', 'Group 9']
    };
    var contentData = {
        'Group 1': ['QR Code 1', 'QR Code 2', 'QR Code 3', 
        'QR Code 4', 'QR Code 5', 'QR Code 6', 'QR Code 7', 'QR Code 8', 
        'QR Code 9', 'QR Code 10', 'QR Code 11', 'QR Code 12', 'QR Code 13', 
        'QR Code 14', 'QR Code 15', 'QR Code 16', 'QR Code 17', 
        'QR Code 18', 'QR Code 19', 'QR Code 20', 'QR Code 21', 'QR Code 22', 
        'QR Code 23', 'QR Code 24', 'QR Code 25', 'QR Code 26', 'QR Code 27', 'QR Code 28', 'QR Code 29', 'QR Code 30', 'QR Code 31', 'QR Code 32', 'QR Code 33', 'QR Code 34', 'QR Code 35', 'QR Code 36', 'QR Code 37', 'QR Code 38', 'QR Code 39', 'QR Code 40', 'QR Code 41', 'QR Code 42', 'QR Code 43', 'QR Code 44', 'QR Code 45', 'QR Code 46', 'QR Code 47', 'QR Code 48', 'QR Code 49', 'QR Code 50'],
        'Group 2': ['QR Code A', 'QR Code B', 'QR Code C'],
        'Group 3': ['QR Code 1', 'QR Code 2', 'QR Code 3'],
        'Group 4': ['QR Code 1', 'QR Code 2', 'QR Code 3'],
        'Group 5': ['QR Code 1', 'QR Code 2', 'QR Code 3'],
        'Group 6': ['QR Code 1', 'QR Code 2', 'QR Code 3'],
        'Group 7': ['QR Code 1', 'QR Code 2', 'QR Code 3'],
        'Group 8': ['QR Code 1', 'QR Code 2', 'QR Code 3'],
        'Group 9': ['QR Code 1', 'QR Code 2', 'QR Code 3'],
        // Add more groups and their corresponding QR codes as needed
    };
    var detailsData = {
        'QR Code 1': 'QR code 1 details',
        'QR Code 2': 'QR code 2 details',
        'QR Code 3': 'QR code 3 details',
        // Add more QR codes and their corresponding details as needed
    };

    var navbar = document.getElementById('navbar');
    navbarData.forEach(function(item) {
        var li = document.createElement('li');
        li.textContent = item;
        li.addEventListener('click', function() {
            Array.from(navbar.children).forEach(function(child) {
                child.classList.remove('active');
            });
            // Add the 'active' class to the clicked item
            li.classList.add('active');
            updateSidebar(item);
        });
        navbar.appendChild(li);
    });

    window.onload = function() {
    updateSidebar(navbarData[0]);
    updateContent(sidebarData[navbarData[0]][0]);
    updateDetails(contentData[sidebarData[navbarData[0]][0]][0]);
    };

    function updateSidebar(lab) {
        var sidebarTable = document.getElementById('sidebarTable');
        sidebarTable.innerHTML = ''; // Clear the current table

        sidebarData[lab].forEach(function(item) {
        var tr = document.createElement('tr');
        var td = document.createElement('td');
        td.textContent = item;
        td.addEventListener('click', function() {
            Array.from(sidebarTable.getElementsByTagName('td')).forEach(function(child) {
                child.classList.remove('active');
            });

            // Add the 'active' class to the clicked item
            td.classList.add('active');
            // Create a new button
            var button = document.getElementById('activeGroupButton');
            if (!button) {
            // Create a new button
                button = document.createElement('button');
                button.id = 'activeGroupButton';
                button.textContent = 'Set Active Group';

                // Add an event listener to the button
                button.addEventListener('click', function() {
                    // Set the active group here
                });

                 // Append the button after the "Add Groups" button
                var addGroupsButton = document.getElementById('addGroupsButton');
                addGroupsButton.parentNode.insertBefore(button, addGroupsButton.nextSibling);
            }
            updateContent(item);
        });
        tr.appendChild(td);
        sidebarTable.appendChild(tr);
    });
}

    function updateContent(group) {
        var contentList = document.getElementById('contentList');
        contentList.innerHTML = ''; // Clear the current list

        contentData[group].forEach(function(item) {
            var li = document.createElement('li');
            li.textContent = item;
            li.addEventListener('click', function() {
                Array.from(contentList.children).forEach(function(child) {
                    child.classList.remove('active');
                });

                // Add the 'active' class to the clicked item
                li.classList.add('active');
                updateDetails(item);
            });
            contentList.appendChild(li);
        });
    }
    
    function updateDetails(qrCode) {
        var detailsTitle = document.getElementById('detailsTitle');
        var detailsContent = document.getElementById('detailsContent');

        detailsTitle.textContent = qrCode;
        detailsContent.textContent = detailsData[qrCode];
    }
   
</script>